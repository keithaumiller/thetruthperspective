ai_conversation.chat_interface:
  path: '/node/{node}/chat'
  defaults:
    _controller: '\Drupal\ai_conversation\Controller\ChatController::chatInterface'
    _title: 'AI Chat'
  requirements:
    _permission: 'access content'
    _entity_access: 'node.view'
    node: \d+
  options:
    parameters:
      node:
        type: entity:node

ai_conversation.send_message:
  path: '/ai-conversation/send-message'
  defaults:
    _controller: '\Drupal\ai_conversation\Controller\ChatController::sendMessage'
  requirements:
    _permission: 'access content'
    _method: 'POST'
  options:
    _csrf_token: TRUE

ai_conversation.get_stats:
  path: '/ai-conversation/stats'
  defaults:
    _controller: '\Drupal\ai_conversation\Controller\ChatController::getStats'
  requirements:
    _permission: 'access content'
    _method: 'GET'

ai_conversation.trigger_summary:
  path: '/node/{node}/trigger-summary'
  defaults:
    _controller: '\Drupal\ai_conversation\Controller\ChatController::triggerSummaryUpdate'
    _title: 'Trigger Summary Update'
  requirements:
    _permission: 'access content'
    _entity_access: 'node.view'
    node: \d+
  options:
    parameters:
      node:
        type: entity:node

ai_conversation.settings:
  path: '/admin/config/ai-conversation'
  defaults:
    _form: '\Drupal\ai_conversation\Form\SettingsForm'
    _title: 'AI Conversation Settings'
  requirements:
    _permission: 'administer site configuration'
